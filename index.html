<!DOCTYPE html>
<html class="">
<head>
<meta charset=utf-8 />
<title>Furatto :: Basic Setup</title>
<link rel="stylesheet" href="furatto/examples/assets/css/normalize.css" />
<link rel="stylesheet" href="furatto/examples/assets/css/furatto.css" />
<link rel="stylesheet" href="furatto/examples/assets/css/font-awesome.css" />
<link rel="stylesheet" href="furatto/examples/assets/css/docs.css" />
<link rel="stylesheet" href="furatto/examples/assets/css/examples.css" />
<link rel="shortcut icon" href="furatto/examples/assets/img/favicon.ico" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<script src="https://maps.googleapis.com/maps/api/js?sensor=false&v=3.8"></script>
<link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css" />
<link rel="stylesheet" type="text/css" href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" />
<script src="http://code.jquery.com/jquery.js"></script>
<script src="http://libs.cartocdn.com/cartodb.js/v3/cartodb.js"></script>    
<!-- INFOWINDOW TEMPLATES -->
<script type="infowindow/html" id="infowindow_template">
    <div class="cartodb-popup" id="infowindow">
      <a href="#close" class="cartodb-popup-close-button close">x</a>
       <div class="cartodb-popup-content-wrapper" >
         <div class="cartodb-popup-header"> </div>
         <div class="cartodb-popup-content" > </div>
        </div>
       <div class="cartodb-popup-tip-container" ></div>
    </div>
</script>
    
<script type="text/javascript">
  /* ACCOUNT-DEPENDING CONFIGURATIONS */
  var sql = new cartodb.SQL({ user: 'sedemty' });
  var layerUrl = "http://sedemty.cartodb.com/api/v1/viz/remesas_por_estado/viz.json";
  var table_name = "remesas_por_estado";
  var _query = "SELECT the_geom,state,y_2003,the_geom_webmercator FROM remesas_por_estado";
  var _interactivity = "cartodb_id,state,y_2003,y_2004,y_2005,y_2006,y_2007,y_2008,y_2009,y_2010,y_2011";
  var layers = [];
    
    /*   MAPS METHODS  */
	google.maps.event.addDomListener(window,'load', init);
	google.maps.visualRefresh = true;
	function init(){
		var styler = [];
		var styleMap = new google.maps.StyledMapType(styler,{name: "Mapa"});	
		var mapDiv = document.getElementById('map');
		/*  MAP  */
		map = new google.maps.Map(mapDiv, {
			center: new google.maps.LatLng(26.16, -102),
			zoom: 5,
			maxZoom: 17,
			minZoom:5,
			zoomControl: true,
			zoomControlOptions: {
				style: google.maps.ZoomControlStyle.DEFAULT	
			},
			mapTypeControlOptions: { mapTypeIds: [google.maps.MapTypeId.SATELLITE, 'style_'],
									  style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
			},
			mapTypeControl: false,
			scrollwheel: true,
			streetViewControl: true,
			panControl:true,
			backgroundColor: '#163D74',
			rotateControl:true,
		});
		map.mapTypes.set('style_', styleMap);
		map.setMapTypeId('style_');
		google.maps.event.addListener(map, 'click', function(event) {
	        
		});
	    		
		 
		/* CARTO */
		var layerOptions = {query: _query};
		cartodb.createLayer(map, layerUrl, layerOptions)
			.on('done', function(layer) {
					map.overlayMapTypes.setAt(0, layer);
					layers.push(layer);
					layer.on('featureClick', function(e, latlng, pos, data) {});
            }).on('error', function() {
					window.location.reload();
		});
	    
        /* var n="SELECT * FROM "+table_name;
            sql.execute(n).done(function(data) {
            
                layer.infowindow.set('template', $('#infowindow_template').html());
                
            }).error(function(errors) {});
       });*/

	}
</script>
    
    

</head>
<body>

<div class="panels ">
  <div class="panel panel-left">
  </div>
</div>

<div class="panel-content">
  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner docs-navbar-inner">
      <div class="container">
        <a href="#menu" class="menu-trigger meteocon" data-meteocon="M" data-toggle="panel" data-target="#menu"></a>
        <div class="nav-collapse collapse">
          <nav id="menu">
            <ul class="nav docs-navbar-menu">
              <li><a class="brand" href="index.html">Project Name</a></li>
              <li class="active"><a href="#">About</a></li>
              <li class=""><a href="#">Contact</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div id="map" style="width:100%;height:100%"></div> 
</div>



<script src="furatto/examples/assets/js/jquery.js"></script>
<script src="furatto/examples/assets/js/furatto.min.js"></script>
</body>
</html>
